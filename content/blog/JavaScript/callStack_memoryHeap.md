---
title: '자바스크립트 엔진, 런타임, 콜스택, 메모리힙'
date: 2021-02-11 23:38:07
category: 'JavaScript'
draft: true
---
## 콜스택, 힙
- V8 엔진을 비롯한 대부분 JS엔진은 메모리힙(메모리할당 이루어짐)과 콜스택(코드 실행되면서 스택 프레임이 쌓임)으로 구성
- 콜스택
  - 소스코드의 평가 과정에서 생성된 실행 컨텍스트가 추가 및 제거되는 스택
- 힙
  - 객체가 저장되는 메모리 공간
  - 콜스택의 요소인 실행컨텍스트는 힙에 저장된 객체를 참조
  - 객체는 원시값과 달리 크기 안 정해져있음 -> 할당해야 할 메모리 크기를 런타임에 결정(동적 할당) => 힙은 구조화되어 있지 않다.
- JS엔진 역할: 태스크 요청 되면 -> only 콜스택 통해 요청된 작업 순차적 실행
  - 비동기처리에서 소스코드의 평가와 실행 제외한 모든 처리는 JS를 구동하는 환경인 브라우저, Node.js에서 담당 => 이를 위해 브라우저는 태스크큐,이벤트루프 제공
    - 예: JS엔진: setTimeout의 평가와 실행/브라우저,Node.js:타이머 설정, 콜백함수 등록
  

**출처** [Huiseoul Engineering](https://engineering.huiseoul.com/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%9E%91%EB%8F%99%ED%95%98%EB%8A%94%EA%B0%80-%EC%97%94%EC%A7%84-%EB%9F%B0%ED%83%80%EC%9E%84-%EC%BD%9C%EC%8A%A4%ED%83%9D-%EA%B0%9C%EA%B4%80-ea47917c8442)

